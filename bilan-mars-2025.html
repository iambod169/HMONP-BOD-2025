<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bilan Mensuel Mars 2025 - HMONP</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.1.0/dist/chartjs-plugin-datalabels.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
     <!-- Favicon -->
    <link rel="icon" href="assets/images/Logo Black.png" type="image/png">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .chart-container {
            margin-top: 30px;
            height: 500px;
            position: relative;
        }
        .chart-title {
            text-align: center;
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #2c3e50;
            font-weight: 600;
        }
        .summary {
            margin-top: 40px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0,0,0,0.05);
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .data-table th {
            background-color: #f2f2f2;
            font-weight: 600;
        }
        .data-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .data-table tr:hover {
            background-color: #f1f1f1;
        }
        .home-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 15px;
            background-color: #6F8381;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-bottom: 20px;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .home-button:hover {
            background-color: #00090f;
        }
        .home-button i {
            margin-right: 8px;
        }
        .insight-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 25px;
        }
        .insight-card h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #6F8381;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        .insight-card p {
            line-height: 1.6;
            color: #555;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, #6F8381, #2c3e50);
            color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        .stat-card h3 {
            font-size: 2.5rem;
            margin: 10px 0;
        }
        .stat-card p {
            font-size: 1rem;
            opacity: 0.9;
            margin: 0;
        }
        .tabs {
            display: flex;
            margin-top: 30px;
            border-bottom: 2px solid #ddd;
        }
        .tab-button {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #7f8c8d;
            transition: all 0.3s;
        }
        .tab-button.active {
            color: #6F8381;
            border-bottom: 3px solid #6F8381;
            margin-bottom: -2px;
        }
        .tab-button:hover {
            color: #6F8381;
        }
        .tab-content {
            display: none;
            padding: 20px 0;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="home-button">
            <i class="fas fa-home"></i> Retour à l'accueil
        </a>
        
        <h1>Bilan Mensuel - Mars 2025</h1>

        <div class="stats-grid">
            <div class="stat-card">
                <p>Heures travaillées</p>
                <h3>142.5</h3>
                <p>Total du mois</p>
            </div>
            <div class="stat-card">
                <p>Projets</p>
                <h3>10</h3>
                <p>Différents projets</p>
            </div>
            <div class="stat-card">
                <p>Formation</p>
                <h3>45h</h3>
                <p>31.6% du temps</p>
            </div>
            <div class="stat-card">
                <p>Production</p>
                <h3>62h</h3>
                <p>43.5% du temps</p>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'timeDistribution')">Répartition du temps</button>
            <button class="tab-button" onclick="openTab(event, 'projectEvolution')">Évolution hebdomadaire</button>
            <button class="tab-button" onclick="openTab(event, 'rawData')">Données brutes</button>
        </div>

        <div id="timeDistribution" class="tab-content active">
            <div class="chart-container" style="height: 400px;">
                <h2 class="chart-title">Répartition du temps par type d'activité</h2>
                <canvas id="donutChart"></canvas>
            </div>
            
            <div class="insight-card">
                <h3>Analyse de la distribution du temps</h3>
                <p>Le mois de mars a été marqué par un équilibre entre production technique (43.5%) et formation (31.6%). Cette importante part dédiée à la formation témoigne d'un investissement significatif dans le développement de compétences techniques avec notamment la formation Power BI (24h) et la formation Revit pour Kengo Kuma (21h). Les tâches administratives représentent 17.5% du temps et sont principalement liées à la préparation de l'appel d'offres pour l'Accord Cadre RIVP, démontrant l'importance des activités commerciales et stratégiques dans la pratique professionnelle.</p>
            </div>
        </div>

        <div id="projectEvolution" class="tab-content">
            <div class="chart-container">
                <h2 class="chart-title">Évolution des projets au cours du mois</h2>
                <canvas id="streamChart"></canvas>
            </div>
            
            <div class="insight-card">
                <h3>Évolution de l'activité</h3>
                <p>L'évolution du temps par type d'activité sur le mois montre clairement une alternance entre les périodes de production et de formation. La première semaine a été dominée par la production technique (27h), principalement sur CHU Nantes et CITE DES MUSIQUES. La deuxième et troisième semaine ont été largement consacrées à la formation (24h puis 21h), d'abord avec Power BI puis avec la formation Revit pour Kengo Kuma. La dernière semaine a vu un retour important vers la production technique (21h) avec le projet Notre-Dame des Marins. On remarque également que les tâches administratives sont restées relativement constantes tout au long du mois, tandis que l'activité de R&D est apparue uniquement en fin de mois.</p>
            </div>
        </div>

        <div id="rawData" class="tab-content">
            <h2 class="chart-title">Données pour Power BI</h2>
            
            <h3>Données hebdomadaires par projet</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Semaine</th>
                        <th>Projet</th>
                        <th>Heures</th>
                        <th>Type d'activité</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>CHU Nantes</td><td>12</td><td>Production</td></tr>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>APPEL D'OFFRE - Accord Cadre</td><td>8</td><td>Administration</td></tr>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>CITE DES MUSIQUES</td><td>8</td><td>Production</td></tr>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>CENTRE FORMATION MARITIME</td><td>4</td><td>Production</td></tr>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>MICHELIN - LES PISTES</td><td>2</td><td>Production</td></tr>
                    <tr><td>Semaine 1 (3-7 mars)</td><td>M02-LOGEMENT</td><td>1</td><td>Production</td></tr>
                    
                    <tr><td>Semaine 2 (10-14 mars)</td><td>Formation Power BI</td><td>24</td><td>Formation</td></tr>
                    <tr><td>Semaine 2 (10-14 mars)</td><td>MICHELIN - LES PISTES</td><td>12</td><td>Production</td></tr>
                    <tr><td>Semaine 2 (10-14 mars)</td><td>APPEL D'OFFRE - Accord Cadre</td><td>1</td><td>Administration</td></tr>
                    <tr><td>Semaine 2 (10-14 mars)</td><td>M02-LOGEMENT</td><td>0.5</td><td>Assistance</td></tr>
                    
                    <tr><td>Semaine 3 (17-21 mars)</td><td>FC.25.12_KKAA_REVIT BASE 3J</td><td>21</td><td>Formation</td></tr>
                    <tr><td>Semaine 3 (17-21 mars)</td><td>APPEL D'OFFRE - Accord Cadre</td><td>8</td><td>Administration</td></tr>
                    <tr><td>Semaine 3 (17-21 mars)</td><td>Notre-Dame des Marins - Martigues</td><td>5</td><td>Production</td></tr>
                    <tr><td>Semaine 3 (17-21 mars)</td><td>M04-LOGEMENT - FONTENAY SOUS BOIS</td><td>1.5</td><td>Assistance</td></tr>
                    
                    <tr><td>Semaine 4 (24-28 mars)</td><td>Notre-Dame des Marins - Martigues</td><td>21</td><td>Production</td></tr>
                    <tr><td>Semaine 4 (24-28 mars)</td><td>APPEL D'OFFRE - Accord Cadre</td><td>8</td><td>Administration</td></tr>
                    <tr><td>Semaine 4 (24-28 mars)</td><td>R&D - Power BI</td><td>4</td><td>R&D</td></tr>
                    <tr><td>Semaine 4 (24-28 mars)</td><td>M04-LOGEMENT - FONTENAY SOUS BOIS</td><td>1.5</td><td>Assistance</td></tr>
                </tbody>
            </table>
            
            <h3>Données agrégées par type d'activité</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Type d'activité</th>
                        <th>Heures</th>
                        <th>Pourcentage</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Production</td><td>62</td><td>43.5%</td></tr>
                    <tr><td>Formation</td><td>45</td><td>31.6%</td></tr>
                    <tr><td>Administration</td><td>25</td><td>17.5%</td></tr>
                    <tr><td>Assistance</td><td>3.5</td><td>2.5%</td></tr>
                    <tr><td>R&D</td><td>4</td><td>2.8%</td></tr>
                    <tr><td>Coordination</td><td>3</td><td>2.1%</td></tr>
                </tbody>
            </table>
        </div>

        <div class="summary">
            <h2>Synthèse mensuelle</h2>
            <p>Ce mois de mars 2025 a été caractérisé par une diversité de missions allant de la formation spécialisée à la production technique, en passant par des tâches administratives stratégiques. Les 142.5 heures de travail se sont réparties entre 10 projets différents, avec une concentration particulière sur la formation Power BI (24h), la formation Revit pour Kengo Kuma (21h) et la modélisation du projet Notre-Dame des Marins à Martigues (26h au total).</p>
            
            <p>Cette diversité de missions témoigne de la richesse d'apprentissage offerte par la mise en situation professionnelle. J'ai pu développer des compétences techniques pointues tout en participant à des missions stratégiques comme la préparation de l'appel d'offres pour l'Accord Cadre RIVP. La transmission de savoir-faire à travers la formation dispensée aux collaborateurs de Kengo Kuma représente également une évolution importante dans mon positionnement au sein de l'agence.</p>
            
            <p>Pour le mois d'avril, je souhaite approfondir mes compétences en gestion de projet et développer davantage mon implication dans les phases amont des projets, afin d'avoir une vision plus complète du processus de conception architecturale.</p>
        </div>
    </div>
    
    <script>
        // Configuration du graphique en anneau (donut chart)
        const ctxDonut = document.getElementById('donutChart').getContext('2d');
        const donutChart = new Chart(ctxDonut, {
            type: 'doughnut',
            data: {
                labels: ['Production technique', 'Formation', 'Administration', 'R&D', 'Assistance technique', 'Coordination'],
                datasets: [{
                    data: [62, 45, 25, 4, 3.5, 3],
                    backgroundColor: [
                        '#3498db',
                        '#9b59b6',
                        '#2ecc71',
                        '#f1c40f',
                        '#e74c3c',
                        '#1abc9c'
                    ],
                    borderWidth: 0,
                    hoverOffset: 15
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            font: {
                                size: 14
                            },
                            padding: 20
                        }
                    },
                    datalabels: {
                        color: '#fff',
                        font: {
                            weight: 'bold',
                            size: 14
                        },
                        formatter: (value, ctx) => {
                            const total = ctx.dataset.data.reduce((acc, data) => acc + data, 0);
                            const percentage = (value * 100 / total).toFixed(1) + '%';
                            return percentage;
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.label || '';
                                const value = context.raw || 0;
                                const total = context.dataset.data.reduce((acc, data) => acc + data, 0);
                                const percentage = (value * 100 / total).toFixed(1) + '%';
                                const projectDetails = getProjectsByActivityType(label);
                                return [`${label}: ${value}h (${percentage})`, ...projectDetails];
                            }
                        }
                    }
                }
            },
            plugins: [ChartDataLabels]
        });

        // Fonction pour obtenir les projets par type d'activité
        function getProjectsByActivityType(activityType) {
            const projects = {
                'Production technique': [
                    'CHU Nantes: 12h',
                    'CITE DES MUSIQUES: 8h',
                    'CENTRE FORMATION MARITIME: 4h',
                    'MICHELIN - LES PISTES: 14h',
                    'Notre-Dame des Marins - Martigues: 26h',
                    'M02-LOGEMENT: 1h'
                ],
                'Formation': [
                    'Formation Power BI: 24h',
                    'FC.25.12_KKAA_REVIT BASE 3J: 21h'
                ],
                'Administration': [
                    'APPEL D-OFFRE - Accord Cadre: 25h'
                ],
                'R&D': [
                    'R&D - Power BI: 4h'
                ],
                'Assistance technique': [
                    'M04-LOGEMENT - FONTENAY SOUS BOIS: 3h',
                    'M02-LOGEMENT: 0.5h'
                ],
                'Coordination': [
                    'Coordination projets divers: 3h'
                ]
            };
            return projects[activityType] || [];
        }

        // Configuration du graphique à ruban (stream chart / area chart)
        const ctxStream = document.getElementById('streamChart').getContext('2d');
        const streamChart = new Chart(ctxStream, {
            type: 'line',
            data: {
                labels: ['Semaine 1 (3-7 mars)', 'Semaine 2 (10-14 mars)', 'Semaine 3 (17-21 mars)', 'Semaine 4 (24-28 mars)'],
                datasets: [
                    {
                        label: 'Production technique',
                        data: [27, 12, 5, 21],
                        backgroundColor: 'rgba(52, 152, 219, 0.6)',
                        borderColor: 'rgba(52, 152, 219, 1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Formation',
                        data: [0, 24, 21, 0],
                        backgroundColor: 'rgba(155, 89, 182, 0.6)',
                        borderColor: 'rgba(155, 89, 182, 1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Administration',
                        data: [8, 1, 8, 8],
                        backgroundColor: 'rgba(46, 204, 113, 0.6)',
                        borderColor: 'rgba(46, 204, 113, 1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'R&D',
                        data: [0, 0, 0, 4],
                        backgroundColor: 'rgba(241, 196, 15, 0.6)',
                        borderColor: 'rgba(241, 196, 15, 1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Assistance technique',
                        data: [0, 0.5, 1.5, 1.5],
                        backgroundColor: 'rgba(231, 76, 60, 0.6)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        fill: true,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        stacked: true,
                        title: {
                            display: true,
                            text: 'Heures travaillées'
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            afterTitle: function(context) {
                                return 'Projets concernés:';
                            },
                            afterLabel: function(context) {
                                const activityType = context.dataset.label;
                                const weekIndex = context.dataIndex;
                                const weekLabels = ['Semaine 1', 'Semaine 2', 'Semaine 3', 'Semaine 4'];
                                const week = weekLabels[weekIndex];
                                return getProjectsByActivityTypeAndWeek(activityType, week);
                            }
                        }
                    },
                    legend: {
                        position: 'bottom',
                        labels: {
                            usePointStyle: true,
                            padding: 15
                        }
                    }
                },
                elements: {
                    line: {
                        fill: true
                    }
                }
            }
        });

        // Fonction pour obtenir les projets par type d'activité et par semaine
        function getProjectsByActivityTypeAndWeek(activityType, week) {
            const projectsByWeek = {
                'Production technique': {
                    'Semaine 1': ['CHU Nantes: 12h', 'CITE DES MUSIQUES: 8h', 'CENTRE FORMATION MARITIME: 4h', 'MICHELIN - LES PISTES: 2h', 'M02-LOGEMENT: 1h'],
                    'Semaine 2': ['MICHELIN - LES PISTES: 12h'],
                    'Semaine 3': ['Notre-Dame des Marins - Martigues: 5h'],
                    'Semaine 4': ['Notre-Dame des Marins - Martigues: 21h']
                },
                'Formation': {
                    'Semaine 1': [],
                    'Semaine 2': ['Formation Power BI: 24h'],
                    'Semaine 3': ['FC.25.12_KKAA_REVIT BASE 3J: 21h'],
                    'Semaine 4': []
                },
                'Administration': {
                    'Semaine 1': ['APPEL D-OFFRE - Accord Cadre: 8h'],
                    'Semaine 2': ['APPEL D-OFFRE - Accord Cadre: 1h'],
                    'Semaine 3': ['APPEL D-OFFRE - Accord Cadre: 8h'],
                    'Semaine 4': ['APPEL D-OFFRE - Accord Cadre: 8h']
                },
                'R&D': {
                    'Semaine 1': [],
                    'Semaine 2': [],
                    'Semaine 3': [],
                    'Semaine 4': ['R&D - Power BI: 4h']
                },
                'Assistance technique': {
                    'Semaine 1': [],
                    'Semaine 2': ['M02-LOGEMENT: 0.5h'],
                    'Semaine 3': ['M04-LOGEMENT - FONTENAY SOUS BOIS: 1.5h'],
                    'Semaine 4': ['M04-LOGEMENT - FONTENAY SOUS BOIS: 1.5h']
                }
            };
            
            return projectsByWeek[activityType]?.[week] || ['Aucun projet'];
        }

        // Fonction pour gérer les onglets
        function openTab(evt, tabName) {
            // Masquer tous les contenus des onglets
            const tabContents = document.getElementsByClassName("tab-content");
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove("active");
            }

            // Désactiver tous les boutons d'onglets
            const tabButtons = document.getElementsByClassName("tab-button");
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }

            // Afficher le contenu de l'onglet sélectionné et activer le bouton
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>
